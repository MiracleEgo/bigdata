# 一面

## 网络7层模型

* 应用层
* 表示层
* 会话层
* 网络层
* 传输层
* 数据链路层
* 物理层

## TCP和UDP位于哪一层

传输层

## Ip寻址流程

* 根据hosts或dns找到目的主机的ip
* 根据自身ip与掩码计算自身网段并与目的主机比较，发现不在同一网段
* 查找自身arp缓存是否有缺省网关mac地址
* 若没有，则启动arp协议，通过本地网络广播查询，查到则加入arp缓存表
* 数据到达路由接口，根据目的ip查找路由表，发送到下一路由

## 进程与线程的区别

* 进程有独立的内存单元
* 多个线程共享内存，极大提高程序运行效率
* 线程是CPU调度的基本单位，进程是资源分配的最小单位
* 一个进程至少有一个线程

## Java调用进程与线程

## HashMap结构

* Node+链表+红黑树

## String和Stringbuffer区别

* String不可变，Stringbuffer可变

## 用过哪些设计模式

* 单例模式
* 模板方法模式
* 工厂模式
* 代理模式

## 静态代理实现

## 动态代理实现

## 观察者模式

多个观察者同时监听一个主题，当主题状态有变时，立即通知所有观察者

## 观察者模式使用场景

发布订阅场景

## E-R图

## JVM内存区域划分

* 线程私有
  * 程序计数器
  * JVM栈
  * 本地方法栈
* 线程共享
  * 堆
  * 方法区/MetaSpace

## 一个对象从进入堆区到死亡的全流程

## 数据库索引的实现

## B树

## 数据库两种存储引擎的区别

* InnoDB与MyISAM的区别
  * 锁
    * MyISAM不支持行锁，不支持外键
  * 索引
    * innodb为聚集索引；myisam非聚集索引
    * innodb和myisam使用B+树
  * 事务
    * innodb支持事务
  * 存储
    * innodb将索引和数据存储在一起

## 为什么MyISAM不支持行锁

# 二面

## 用了哪些设计模式 

## Spring aop怎么实现？ 

## Mysql索引的实现

## 使用b 树的理由 

### B 树做索引比红黑树好在哪里？

### 项目里Redis怎么用

### 分布式缓存可能出现的问题 

### 分布式锁 

### Setnx加锁的原理 

### 怎么解除分布式锁？ 

### Jvm内存区域划分 

### 程序计数器的作用 

### 本地方法栈和虚拟机栈的区别 

### Gc全流程 

### Gc算法 

### 连接过程中什么时候会出现time_wait状态 

### 为什么要有time_wait状态 

### 一致性hash了解吗？ 

### 一致性hash的优点？

### **设计题：**有一个服务器专门接收大量请求，怎么设计？

### 同步和异步的区别 

### 非阻塞io和阻塞式io的区别 

### http如何保持连接 

### 如果不用http，如何保持连接 

### Volatile 关键字的作用 

### Volatile 关键字的实现 

* 读时JMM将工作内存数据设置无效，要求从主存中读
* 写时JMM把工作内存中数据刷新到主存，其它线程可以读取就是最新值

### 用户态和内核态的区别 

### lru了解吗？

### 怎么实现lru？ 

### 布隆过滤器了解吗？ 

### **算法题：**二叉树前序遍历非递归