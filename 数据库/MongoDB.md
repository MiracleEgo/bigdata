# MongoDB分片(Sharding)技术

* 分片目的
  * 分片是MongoDB将大型集合分割至不同服务器（或一个集群）上所采用的方法。
  * 与MySQL分区方案相比，MongoDB能几乎自动完成分片
  * 垂直扩展
    * 增加更多的CPU和存储资源来扩展容量
  * 水平扩展
    * 将数据集分布在多个服务器上，即分片

* 分片思想

  * 减少了每个分片存储的数据

    * 插入数据时，只需要访问数据所在分片

      ![img](https://images2017.cnblogs.com/blog/1190037/201801/1190037-20180106150209471-1233466151.png)

* 分片优势

  * 对集群进行抽象，让集群不可见
    * 自带mongos路由进程，将客户端请求准确路由到一个或一组服务器上，同时将收到的响应拼起来发到客户端
  * 保证集群总是可读写
    * 将MongoDB的分片和复制功能结合使用，确保数据在分片到多台服务器时，每份数据进行了备份，一台服务器坏掉后，其他库可接替
  * 使集群易扩展
    * 当系统需要更多的空间和资源时，可按需扩充容量